{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Praveen A\\\\Documents\\\\ExpenseMgmt-master (1)\\\\ExpenseMgmt-master\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\nimport AuthContext from './AuthContext';\nimport tt from './exp.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: ''\n  });\n  const history = useNavigate();\n  const {\n    login\n  } = useContext(AuthContext);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch('http://localhost:5000/api/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: credentials.email,\n        password: credentials.password\n      })\n    });\n    const json = await response.json();\n    console.log(json);\n    if (json.success) {\n      localStorage.setItem('token', json.authtoken);\n      alert(`${credentials.email} has been logged in`);\n      login(credentials);\n      history('/dashboard');\n    } else {\n      alert('Invalid credentials');\n    }\n  };\n  const onChange = e => {\n    setCredentials({\n      ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"login-heading\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: tt,\n        alt: \"Logo\",\n        className: \"login-logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: `text-${props.mode === 'light' ? 'dark' : 'light'}`,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"login-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `form-group text-${props.mode === 'light' ? 'dark' : 'light'}`,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          value: credentials.email,\n          name: \"email\",\n          onChange: onChange,\n          className: \"form-control\",\n          placeholder: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: credentials.password,\n          className: \"form-control\",\n          onChange: onChange,\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          value: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signup\",\n          className: \"btn btn-secondary\",\n          children: \"Click here to SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"27LMFYlg1z/8lXpuA2i3nrWWcNQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","Link","AuthContext","tt","jsxDEV","_jsxDEV","Login","props","_s","credentials","setCredentials","email","password","history","login","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","json","console","log","success","localStorage","setItem","authtoken","alert","onChange","target","name","value","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","mode","onSubmit","type","id","placeholder","to","_c","$RefreshReg$"],"sources":["C:/Users/Praveen A/Documents/ExpenseMgmt-master (1)/ExpenseMgmt-master/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport './Login.css';\nimport AuthContext from './AuthContext';\nimport tt from './exp.png';\n\nexport default function Login(props) {\n  const [credentials, setCredentials] = useState({ email: '', password: '' });\n  const history = useNavigate();\n  const { login } = useContext(AuthContext);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const response = await fetch('http://localhost:5000/api/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email: credentials.email, password: credentials.password }),\n    });\n    const json = await response.json();\n    console.log(json);\n    if (json.success) {\n      localStorage.setItem('token', json.authtoken);\n      alert(`${credentials.email} has been logged in`);\n      login(credentials);\n      history('/dashboard');\n    } else {\n      alert('Invalid credentials');\n    }\n  };\n\n  const onChange = (e) => {\n    setCredentials({ ...credentials, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h1 className=\"login-heading\">\n        <img src={tt} alt=\"Logo\" className=\"login-logo\" />\n      </h1>\n      <h1 className={`text-${props.mode === 'light' ? 'dark' : 'light'}`}>Login</h1>\n      <form className=\"login-form\" onSubmit={handleSubmit}>\n        <div className={`form-group text-${props.mode === 'light' ? 'dark' : 'light'}`}>\n          <input\n            type=\"email\"\n            id=\"email\"\n            value={credentials.email}\n            name=\"email\"\n            onChange={onChange}\n            className=\"form-control\"\n            placeholder=\"Email\"\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={credentials.password}\n            className=\"form-control\"\n            onChange={onChange}\n            placeholder=\"Password\"\n          />\n        </div>\n        <div className=\"form-actions\">\n          <input type=\"submit\" className=\"btn btn-primary\" value=\"Login\" />\n          <Link to=\"/signup\" className=\"btn btn-secondary\">Click here to SignUp</Link>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}